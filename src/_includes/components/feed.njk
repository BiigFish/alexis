<div x-data="{open: 'posts' }">
    <div class="space-x-4 text-center">
        <button x-on:click="open = 'posts'" class="text-red-600 text-3xl font-semibold">all </button>
        {% for tag, color in categories %}
            <button x-on:click="open = '{{tag}}'" class="text-{{color}} text-3xl font-semibold">{{tag}} </button>
        {% endfor %}
    </div>
    <div class="mt-6 mx-10 grid grid-cols-2 md:grid-cols-4 gap-10 ">
        {%- for post in collections.posts | reverse -%}
            <a href="{{ post.url }}"
                 x-show="'{{ post.data.tags }}'.includes(open)" 
                 x-transition:enter="transition ease-out duration-300"
                 x-transition:enter-end="opacity-100 scale-100"
                 x-transition:leave="transition ease-in duration-300"
                 x-transition:leave-start="opacity-100 scale-100"
                 x-transition:leave-end="opacity-0 scale-90"
                 x-transition:enter-start="opacity-0 scale-90"
                 class= "
                    {% for topic, color in categories %}
                        {% if topic in post.data.tags %} bg-{{color}} hover:text-{{color}} {% endif %}
                    {% endfor %}
                    aspect-square shadow-old hover:bg-textColor grid items-center duration-200">

                <h3 class="text-lg font-bold text-center -rotate-12">{{ post.data.title }}</h3>
                {# <p class="text-gray-700">{{ post.data.description }}</p> #}
            </a>
        {%- endfor -%}
    </div>
</div>